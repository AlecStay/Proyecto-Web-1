<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registro - Revistas Científicas</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
    <header>
        <div id="botontitulo">
            <h1><a href="homeweb.html">Revistas Científicas Uleam</a></h1>
        </div>
        <div id="navegacion">
            <nav>
                <ul>
                    <li><a href="revistas.html">Revistas</a></li>
                    <li><a href="registro.html">Regístrate</a></li>
                    <li><a href="login.html">Log in</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <div id="registerblock">
        <h2>Registro</h2>
        <div id="logimg">
            <img src="log.png" alt="imagen log"> 
        </div>
        <div class="form">
            <input type="text" placeholder="Nombre" id="nombre">
            <p id="nombreError" class="warnings"></p> 
            <input type="text" placeholder="Apellido" id="apellido">
            <p id="apellidoError" class="warnings"></p> 
            <input type="text" placeholder="Email" id="email">
            <p id="emailError" class="warnings"></p> 
            <input type="password" placeholder="Contraseña" id="password">
            <p id="passwordError" class="warnings"></p> 
            <input type="password" placeholder="Confirmar Contraseña" id="confirmarPassword">
            <p id="confirmarPasswordError" class="warnings"></p> 
            <input type="date" placeholder="Fecha de Nacimiento" id="fechaNacimiento">
            <p id="fechaNacimientoError" class="warnings"></p> 
            <label for="user-type">Tipo de Usuario:</label>
            <select id="user-type" name="user-type">
                <option value="null">Elija tipo de usuario</option>
                <option value="docente">Docente</option>
                <option value="estudiante">Estudiante</option>
            </select>
            <p id="userTypeError" class="warnings"></p> 
            <button onclick="register()" class="cta-button">Registrarse</button>
        </div>
    </div>
    <footer>
        <p>&copy;<strong>2023 Universidad Laica Eloy Alfaro de Manabí. Todos los derechos reservados.</strong></p>
    </footer>

    <script>
        function register() {
            document.getElementById("nombreError").textContent = "";
            document.getElementById("apellidoError").textContent = "";
            document.getElementById("emailError").textContent = "";
            document.getElementById("passwordError").textContent = "";
            document.getElementById("confirmarPasswordError").textContent = "";
            document.getElementById("fechaNacimientoError").textContent = "";
            document.getElementById("userTypeError").textContent = "";
    
            const nombre = document.getElementById("nombre").value;
            const apellido = document.getElementById("apellido").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            const confirmarPassword = document.getElementById("confirmarPassword").value;
            const fechaNacimiento = document.getElementById("fechaNacimiento").value;
            const userType = document.getElementById("user-type").value;
    
            let isValid = true;
            let regexEmail = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/;
    
            
            function showError(fieldId, message) {
                const errorElement = document.getElementById(fieldId + "Error");
                if (errorElement) {
                    errorElement.textContent = message;
                }
                isValid = false;
            }
    
            if (nombre === "") {
                showError("nombre", "Por favor, ingresa un nombre.");
            } else if (nombre.length > 10) {
                showError("nombre", "El nombre debe tener un máximo de 10 caracteres.");
            }

            if (apellido === "") {
                showError("apellido", "Por favor, ingresa un apellido.");
            } else if (apellido.length > 10) {
                showError("apellido", "El apellido debe tener un máximo de 10 caracteres.");
            }
    
            if (email === "") {
                showError("email", "Por favor, ingresa un email.");
            } else if (!regexEmail.test(email)){
                showError("email", "El email no es valido");
            } else {
                document.getElementById("emailError").textContent="";
            }
    
            if (password.length < 7) {
                showError("password", "La contraseña debe tener al menos 7 caracteres.");
            } else if (!/[A-Z]/.test(password)) {
                showError("password", "La contraseña debe contener al menos una letra mayúscula.");
            }
    

            if (password !== confirmarPassword) {
                showError("confirmarPassword", "Las contraseñas no coinciden.");
            }
    

            if (!fechaNacimiento) {
                showError("fechaNacimiento", "Por favor, selecciona una fecha de nacimiento.");
            }
            
            if(userType === "null"){
                showError("userType", "Por favor, elija un tipo de usuario.")
            }
    
            if (isValid) {
                alert("Registro exitoso");
            }   

        }
    </script>
    
</body>
</html>
